(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{393:function(t,s,a){"use strict";a.r(s);var r=a(14),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"构建-vuepress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建-vuepress"}},[t._v("#")]),t._v(" 构建 VuePress")]),t._v(" "),a("h2",{attrs:{id:"vuepress-优点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-优点"}},[t._v("#")]),t._v(" VuePress 优点：")]),t._v(" "),a("ol",[a("li",[t._v("使用全局 vue 组件")]),t._v(" "),a("li",[t._v("vue + webpack")]),t._v(" "),a("li",[t._v("渲染优化（预渲染 有利于 SEO SPA 响应式布局）")])]),t._v(" "),a("h2",{attrs:{id:"使用教程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用教程"}},[t._v("#")]),t._v(" 使用教程")]),t._v(" "),a("h3",{attrs:{id:"_1-全局安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-全局安装"}},[t._v("#")]),t._v(" 1. 全局安装")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" vuepress\n")])])]),a("h3",{attrs:{id:"_2-创建并进入项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建并进入项目"}},[t._v("#")]),t._v(" 2. 创建并进入项目")]),t._v(" "),a("p",[a("code",[t._v("sh mkdir vuepress-demo && cd vuepress-demo")])]),t._v(" "),a("h3",{attrs:{id:"_3-初始化项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-初始化项目"}},[t._v("#")]),t._v(" 3. 初始化项目")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" // 全部使用默认配置\n")])])]),a("p",[t._v("在生成的 package.json 中添加如下两个启动命令")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress dev docs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress build docs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h4",{attrs:{id:"_4-创建基本项目结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-创建基本项目结构"}},[t._v("#")]),t._v(" 4. 创建基本项目结构")]),t._v(" "),a("p",[t._v("官方只有推荐目录结构，也可以自己进行创建")]),t._v(" "),a("h4",{attrs:{id:"_5-配置-config-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-配置-config-js"}},[t._v("#")]),t._v(" 5. 配置 config.js")]),t._v(" "),a("p",[t._v("静态资源 相对路径在 public 目录下，\n路由跳转 相对路径为根目录")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'知识宝库'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("head")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注入到当前页面 <head> 中的标签")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'link'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//增加一个自定义的 favicon(网页标签的图标)")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("themeConfig")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("logo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 左上角logo")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("nav")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导航栏配置")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'掘金主页'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("link")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sidebar")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'auto'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 侧边栏配置")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n")])])]),a("h4",{attrs:{id:"_6-侧边栏配置-二级导航"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-侧边栏配置-二级导航"}},[t._v("#")]),t._v(" 6. 侧边栏配置（二级导航）")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sidebarDepth")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"_7-配置首页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-配置首页"}},[t._v("#")]),t._v(" 7. 配置首页")]),t._v(" "),a("p",[t._v("在 docs 目录下添加 README.md，在文件中添加如下内容")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Blogging Like a Hacker\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" en"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("US")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("home")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("heroImage")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("gear"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gif\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("heroText")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 知识宝库\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("tagline")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 如果学习不是为了装"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("X")]),t._v("的话，那便毫无意义了\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actionText")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 开始使用 →\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actionLink")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("install")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("features")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" title"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 简洁至上\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("details")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 以 Markdown 为中心的项目结构，以最少的配置帮助你专注于写作。\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" title"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Vue 驱动\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("details")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 享受 Vue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" webpack 的开发体验，在 Markdown 中使用 Vue 组件，同时可以使用 Vue 来开发自定义主题。\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" title"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 高性能\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("details")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" VuePress 为每个页面预渲染生成静态的 "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HTML")]),t._v("，同时在页面被加载的时候，将作为 "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SPA")]),t._v(" 运行。\n     "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("footer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MIT")]),t._v(" Licensed "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" Copyright © "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2018")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("present Evan You\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\n")])])]),a("h4",{attrs:{id:"_8-修改默认主题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-修改默认主题"}},[t._v("#")]),t._v(" 8. 修改默认主题")]),t._v(" "),a("p",[t._v("想对默认主题做一些修改，以满足需求\n执行如下命令，可将默认主题的各功能组件都释放出来\n"),a("code",[t._v("vuepress eject docs")]),t._v("\n你会发现，在根目录下多了一个 theme 文件夹")]),t._v(" "),a("h4",{attrs:{id:"_9-在-markdown-文件中使用-vue-组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-在-markdown-文件中使用-vue-组件"}},[t._v("#")]),t._v(" 9. 在 markdown 文件中使用 vue 组件")]),t._v(" "),a("ul",[a("li",[t._v("在 .vuepress 文件夹下新建一个 components 目录，其中的 vue 组件会自动注册到全局")]),t._v(" "),a("li",[t._v("在 docs 文件夹下新建一个文件夹，并在文件夹下新建一个 README.md 文件，在文件中使用组件")])]),t._v(" "),a("h4",{attrs:{id:"_10-发布到-github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-发布到-github"}},[t._v("#")]),t._v(" 10. 发布到 github")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("- 新建两个仓库，一个仓库负责展示网站内容，不需要修改；另一个仓库负责开发和新增博客，并通过 npm run deploy 命令，将代码发布到第一个仓库中\n- 在根目录下新建 deploy.sh\n\n  ```sh\n  #!/usr/bin/env sh  // 这行代码使文件变成一个可执行文件\n\n  # 确保脚本抛出遇到的错误\n  set -e\n\n  # 生成静态文件\n  npm run docs:build\n\n  # 进入生成的文件夹\n  cd docs/.vuepress/dist\n\n  # 如果是发布到自定义域名\n  # echo 'www.example.com' > CNAME\n\n  git init\n  git add -A\n  git commit -m 'deploy'\n\n  # 如果发布到 https://<USERNAME>.github.io\n\n  # git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master\n\n  # 如果发布到 https://<USERNAME>.github.io/<REPO>\n\n  git push -f git@github.com:<USERNAME>/<USERNAME>.git master:gh-pages\n\n  cd -\n  ```\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);