(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{307:function(t,a,s){"use strict";s.r(a);var n=s(14),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"js-常用常考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-常用常考"}},[t._v("#")]),t._v(" JS 常用常考")]),t._v(" "),s("ul",[s("li",[t._v("闭包，原型")]),t._v(" "),s("li",[t._v("类，继承")]),t._v(" "),s("li",[t._v("MVC，Flux")]),t._v(" "),s("li",[t._v("高阶函数")]),t._v(" "),s("li",[t._v("前端工程化")])]),t._v(" "),s("ul",[s("li",[t._v("相同的代码使用多次，就应该使用函数进行封装")]),t._v(" "),s("li",[t._v("相同的属性需要使用多次，就应该做成共用属性（原型或类）")]),t._v(" "),s("li",[t._v("相同的原型需要使用多次，就应该使用继承（Event Bus）")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("class view extends EventBus{\n  constructor(){\n    super()\n  }\n}\n")])])]),s("h2",{attrs:{id:"基于-class-实现继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基于-class-实现继承"}},[t._v("#")]),t._v(" 基于 class 实现继承")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("class Parent{\n  constructor(name1){\n    this.name = name1\n  }\n  pMethod(){\n    console.log(this.name1)\n  }\n}\n\nclass Child extends Parent{\n  constructor(name2,name1){\n    super(name1)  // Parent Constructor\n    this.name2 = name2\n  }\n  cMethod(){\n    console.log(this.name2)\n  }\n}\n")])])]),s("ul",[s("li",[t._v("构造函数中使用的 super()只能在构造函数中使用，并且必须在使用 this 关键字前调用")])]),t._v(" "),s("h2",{attrs:{id:"基于原型实现继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基于原型实现继承"}},[t._v("#")]),t._v(" 基于原型实现继承")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Parent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Parent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("pMethod")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Child")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Parent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 核心代码")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Child")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_proto_ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Parent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 核心代码")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Child")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("cMethod")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Child")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Child"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 核心代码")]),t._v("\n")])])]),s("ul",[s("li",[t._v("老写法")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("empty")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nempty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Parent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Child")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("empty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("使用新 api 的写法")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Human")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Mammal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Human")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Human"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h1",{attrs:{id:"js-实现继承有两种通用的方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js-实现继承有两种通用的方式"}},[t._v("#")]),t._v(" JS 实现继承有两种通用的方式")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("构造函数 + 原型")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("不写 Parent.call(this, name1)\n"),s("img",{attrs:{src:"http://rq9s5lc0q.hb-bkt.clouddn.com/blog/js/class-error.jpg?e=1678185467&token=T2pLxEmUwd9-tHhgpCQLKzpsG4xUBY7QSVH24GdD:uM0WfJUIqBuo50grY-qRZGC-cyY=",alt:"注释Parent.call(this, name1)"}}),t._v("\n注释掉 Parent.call(this, name1)之后，执行 pMethod 函数，pMethod 函数被 child 调用，this 指向 child，但在 child 中无法找到 name1，所以输出 undefined。")])]),t._v(" "),s("li",[s("p",[t._v("正确代码\n"),s("img",{attrs:{src:"/images/normal.jpg",alt:"正确代码"}}),t._v("\n正确代码，需要把 this 指向通过 new Child 构造出来的实例对象(child)，并且把参数 name1 传给 Parent。")])])]),t._v(" "),s("ul",[s("li",[s("p",[t._v("终极代码")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" function Parent(name1){\n     this.name1 = name1\n }\n Parent.prototype.pMethod = function(){\n     console.log(this.name1)\n }\n\n function Child(name2, name1){\n     Parent.call(this, name1) // 得分点\n     this.name2 = name2\n }\n Child.prototype.__proto__ = Parent.prototype\n     //上面这句代码的古板写法应该是下面三句\n     //const empty = function(){}\n     //empty.prototype = Parent.prototype\n     //Child.prototype = new empty()\n     //还有一句也很重要，只是被人们忽视了\n     //Child.prototype.constructor = Child\n\n Child.prototype.cMethod = function(){\n     console.log(this.name2)\n }\n")])])])])])]),t._v(" "),s("li",[s("p",[t._v("class")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("class Parent{\n    constructor(name1){\n        this.name1 = name1\n    }\n    pMethod(){\n        console.log(this.name1)\n    }\n}\nclass Child extends Parent{\n    constructor(name2, name1){\n        super(name1) // 重点\n        this.name2 = name2\n    }\n    cMethod(){\n        console.log(this.name2)\n    }\n}\n")])])]),s("ul",[s("li",[t._v("构造函数中使用的 super() 只能在构造函数中使用，并且必须在使用 this 关键字前调用。不调用的话执行函数会报错。\n"),s("img",{attrs:{src:"http://rq9s5lc0q.hb-bkt.clouddn.com/blog/js/class-error.jpg?e=1678185467&token=T2pLxEmUwd9-tHhgpCQLKzpsG4xUBY7QSVH24GdD:uM0WfJUIqBuo50grY-qRZGC-cyY=",alt:""}})])])]),t._v(" "),s("li",[s("p",[t._v("Mixin(混入)")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("通过不使用继承的方式让一个类中的方法被其他类复用")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("  const mixin = (Base, mixins) => Object.assign(Base.prototype, mixins)\n  const Fly = {\n     canFly() { console.log('I can fly') }\n  }\n  class Mammal {\n     birthChild() { console.log('I birth a baby') }\n  }\n  mixin(Mammal, Fly)\n\n  let m = new Mammal()\n  m.birthChild()\n  m.canFly()\n")])])])]),t._v(" "),s("li",[s("p",[t._v("变异版(使用继承实现，只是感觉更像混入)")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" const FlyMixin = Base => class extends Base {\n     canFly() { console.log('I can fly') }\n }\n const SwimMixin = Base => class extends Base {\n     canSwim() { console.log('I can swim') }\n }\n class Mammal {\n     birthChild() { console.log('I birth a baby') }\n }\n\n const FlyMammal = FlyMixin(Mammal)\n let m1 = new FlyMammal()\n m1.canFly()\n\n const FlySwimMammal = SwimMixin(FlyMixin(Mammal))\n let m2 = new FlySwimMammal()\n m2.canFly()\n m2.canSwim()\n")])])])])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);