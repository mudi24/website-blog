(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{359:function(t,a,e){"use strict";e.r(a);var s=e(14),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("p",[t._v("我在使用 HBuilderX 进行开发时会遇到一些问题，本文就会把我遇到的问题记录下来，方便自己下次遇到的时候查看，也给大家分享一下。")]),t._v(" "),e("h2",{attrs:{id:"打包网页失败"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包网页失败"}},[t._v("#")]),t._v(" 打包网页失败")]),t._v(" "),e("h3",{attrs:{id:"报错信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#报错信息"}},[t._v("#")]),t._v(" 报错信息")]),t._v(" "),e("p",[t._v("使用HBuilderX多次打包网页时遇到报错：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c97dadc7f8c5470d8b60a7695d7058ec~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),e("p",[t._v("HBuilderX 使用的是本身自带的node，只能猜测是HBuilder X本身自带的node有问题，需要替换。根据这个报错信息我猜测是32位的不合适，需要手动换成64位。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("c:\\ws\\src\\util-inl.h:372: Assertion `!(n > 0) || (ret != nullptr)' failed.\n")])])]),e("h3",{attrs:{id:"找到hbuilderx中的node并确认版本号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#找到hbuilderx中的node并确认版本号"}},[t._v("#")]),t._v(" 找到HBuilderX中的node并确认版本号")]),t._v(" "),e("p",[t._v("在路径HBuilderX\\plugins\\node内，查询node.exe的版本，我这里是12.22.1.0。如下图：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86024aee945141a397f7493d46c51f60~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"到官网内下载node-exe"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#到官网内下载node-exe"}},[t._v("#")]),t._v(" 到官网内下载node.exe")]),t._v(" "),e("p",[t._v("我这里需要下载window环境，64位的node.exe。这里选择压缩包形式的文件来下载。如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d90d96aef7b44113b1375822e9582ee8~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),e("p",[t._v("下载链接为："),e("a",{attrs:{href:"https://nodejs.org/download/release/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://nodejs.org/download/release/"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"直接替换node-exe"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#直接替换node-exe"}},[t._v("#")]),t._v(" 直接替换node.exe")]),t._v(" "),e("p",[t._v("解压缩安装包，并直接替换node.exe文件。选择的文件如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/217bd4e72e7d4d078a350360b7046f6d~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),e("p",[t._v("我们仅替换一个node.exe即可。")]),t._v(" "),e("h3",{attrs:{id:"运行项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行项目"}},[t._v("#")]),t._v(" 运行项目")]),t._v(" "),e("p",[t._v("终于可以打包了")]),t._v(" "),e("h2",{attrs:{id:"项目模拟到手机运行后编译报错"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目模拟到手机运行后编译报错"}},[t._v("#")]),t._v(" 项目模拟到手机运行后编译报错")]),t._v(" "),e("h3",{attrs:{id:"报错信息-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#报错信息-2"}},[t._v("#")]),t._v(" 报错信息")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("FATAL")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ERROR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CALL_AND_RETRY_LAST")]),t._v(" Allocation failed "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" JavaScript heap out "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("of")]),t._v(" memory（内存溢出）\n")])])]),e("h3",{attrs:{id:"解决方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[t._v("#")]),t._v(" 解决方法")]),t._v(" "),e("p",[t._v("我这用的是 windows 系统，需要添加一个环境变量，修改 node 的运行内存。 "),e("code",[t._v("NODE_OPTIONS --max_old_space_size=3072")])]),t._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4b5b4c59ac6b4389844651c8c5e84943~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bd106031a61a479f99920f490e5f1964~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"上面的方法带来的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#上面的方法带来的问题"}},[t._v("#")]),t._v(" 上面的方法带来的问题")]),t._v(" "),e("p",[t._v("如果使用了 OSS，会出现 OSS 软件打不开的情况")]),t._v(" "),e("h3",{attrs:{id:"解决方法-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方法-2"}},[t._v("#")]),t._v(" 解决方法")]),t._v(" "),e("p",[t._v("我查看了OSS 的官网文档，官网文档内容如下，需要把刚才添加的环境变量删除。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/be7026ddf38943a38ab322edbcbda26d~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("这里我删除以后暂时不添加环境变量了，只是偶尔会遇到内存溢出的情况，通常重启后就可以解决。如果连续多次碰上内存溢出的情况，可以尝试使用添加环境变量的方式去解决。")])]),t._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),e("p",[t._v("这篇文章我会持续进行更新，使用 HBuilderX 开发时总会遇到一些意想不到的问题，我会把问题都记录下来，觉得有帮助的朋友可以给本文点个赞。")])])}),[],!1,null,null,null);a.default=r.exports}}]);