(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{316:function(e,o,r){"use strict";r.r(o);var c=r(14),s=Object(c.a)({},(function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("Docker 官网：https://docs.docker.com/")]),e._v(" "),r("h2",{attrs:{id:"安装-docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker"}},[e._v("#")]),e._v(" 安装 Docker")]),e._v(" "),r("h3",{attrs:{id:"mac-docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mac-docker"}},[e._v("#")]),e._v(" Mac Docker")]),e._v(" "),r("ul",[r("li",[e._v("按照官方教程（https://docs.docker.com/docker-for-mac/install/）下载.dmg并安装使用")]),e._v(" "),r("li",[e._v("设置国内镜像https://docker.mirrors.ustc.edu.cn/，设置完要重启Docker（教程在这里：http://guide.daocloud.io/dcs/daocloud-9153151.html#Docker%E5%8A%A0%E9%80%9F%E5%99%A8-DockerforMac）")]),e._v(" "),r("li",[e._v("默认需要注册才可以下载（注册地址：https://hub.docker.com/）")])]),e._v(" "),r("h3",{attrs:{id:"windows-docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#windows-docker"}},[e._v("#")]),e._v(" Windows Docker")]),e._v(" "),r("ul",[r("li",[e._v("注册地址：https://hub.docker.com/")]),e._v(" "),r("li",[e._v("下载 Docker Desktop （地址：https://docs.docker.com/docker-for-windows/install/）")]),e._v(" "),r("li",[e._v("下载 Docker for Windows Installer(需要登录)（下载地址：https://docs.docker.com/docker-for-windows/）")]),e._v(" "),r("li",[e._v("确保下载成功，即 docker --version 返回版本号")]),e._v(" "),r("li",[e._v("设置国内镜像https://docker.mirrors.ustc.edu.cn/，设置完要重启Docker（教程在这里：http://guide.daocloud.io/dcs/daocloud-9153151.html")]),e._v(" "),r("li",[e._v("确保 docker run hello-world 输出 Hello from Docker!")]),e._v(" "),r("li",[e._v("如果因为 Hyper-V 等原因无法安装新版，可以考虑旧版 Docker")])]),e._v(" "),r("h3",{attrs:{id:"windows-安装旧版-docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#windows-安装旧版-docker"}},[e._v("#")]),e._v(" Windows 安装旧版 Docker")]),e._v(" "),r("ul",[r("li",[e._v("搜索 Docker (找到 Docker Quickstart Terminal 并打开)")]),e._v(" "),r("li",[e._v("Docker Quickstart Terminal 会启动一个 Oracle VM VirtualBox 的虚拟机（虚拟机用来运行 docker）")]),e._v(" "),r("li",[e._v("Docker Quickstart 运行后看到一个 IP，使用 docker-machine ip 可得到 IP")]),e._v(" "),r("li",[e._v("新开命令行，运行 docker -v")]),e._v(" "),r("li",[e._v("设置国内镜像https://docker.mirrors.ustc.edu.cn/，设置完要重启Docker（教程在这里：http://guide.daocloud.io/dcs/daocloud-9153151.html")]),e._v(" "),r("li",[e._v("运行 docker run hello-world")])]),e._v(" "),r("h2",{attrs:{id:"docker-安装-mysql-https-hub-docker-com-mysql"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装-mysql-https-hub-docker-com-mysql"}},[e._v("#")]),e._v(" Docker 安装 MySQL（https://hub.docker.com/_/mysql）")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d mysql:tag  // 官方命令\ndocker run --name mysql -e MYSQL_ROOT_PASSWORD=123456 -p 3306:3306 -d mysql:5.7.27  // 测试命令\n")])])]),r("ul",[r("li",[e._v("使用 5.7.27 版本或者 8.0.18")]),e._v(" "),r("li",[e._v("使用 "),r("code",[e._v("docker run")]),e._v("命令启动容器")]),e._v(" "),r("li",[e._v("name 是容器（数据库）的名字")]),e._v(" "),r("li",[e._v("-e 环境变量（MYSQL_ROOT_PASSWORD 是要设置的密码）")]),e._v(" "),r("li",[e._v("-d 守护进程（持续运行，不会被系统关闭）")]),e._v(" "),r("li",[e._v(":tag 要装的 MySQL 的版本")]),e._v(" "),r("li",[e._v("-p 3306:3306 端口映射")])]),e._v(" "),r("h3",{attrs:{id:"常用的-docker-命令"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#常用的-docker-命令"}},[e._v("#")]),e._v(" 常用的 Docker 命令")]),e._v(" "),r("ul",[r("li",[e._v("命令\n"),r("ul",[r("li",[r("code",[e._v("docker ps")]),e._v(" 查看容器运行状态")]),e._v(" "),r("li",[r("code",[e._v("docker kill mysql1")]),e._v("关闭容器")]),e._v(" "),r("li",[r("code",[e._v("docker container run mysql1")]),e._v("开启刚关闭的容器")]),e._v(" "),r("li",[r("code",[e._v("docker rm mysql1")]),e._v("删掉容器，必要时可加-f 选项")]),e._v(" "),r("li",[r("code",[e._v("docker run")]),e._v(" 运行新容器")])])])]),e._v(" "),r("ul",[r("li",[e._v("注意\n"),r("ul",[r("li",[e._v("用 Docker 运行的容器，默认不会持久化")]),e._v(" "),r("li",[e._v("不会持久化是指如果容器被删除了，那么数据也没有了")]),e._v(" "),r("li",[e._v("如果需要持久化，搜索 docker mysql 数据目录")])])])]),e._v(" "),r("h3",{attrs:{id:"用命令行连接-mysql"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用命令行连接-mysql"}},[e._v("#")]),e._v(" 用命令行连接 mysql")]),e._v(" "),r("ul",[r("li",[e._v("Docker exec 命令\n"),r("ul",[r("li",[e._v("docker exec -i mysql1 bash")]),e._v(" "),r("li",[e._v("输入这行命令会进入容器，容器里有一个 Linux 系统")]),e._v(" "),r("li",[e._v("然后就可以在这个系统里运行 mysql")])])]),e._v(" "),r("li",[e._v("mysql 命令\n"),r("ul",[r("li",[r("code",[e._v("mysql -u root -p")]),e._v(" 回车，然后输入密码 123456")]),e._v(" "),r("li",[r("code",[e._v("show databases;")]),e._v("可查看数据库列表（没有加分号就回车的话，使用 ctrl+c 重来）")]),e._v(" "),r("li",[r("code",[e._v("use xxx;")]),e._v("可选择使用 xxx 数据库")]),e._v(" "),r("li",[r("code",[e._v("use sys;")]),e._v("使用默认的 sys 数据库")]),e._v(" "),r("li",[r("code",[e._v("show tables;")]),e._v("查看所有表")]),e._v(" "),r("li",[r("code",[e._v("select * from CHARACTER_SETS;")]),e._v("查看表内容")])])])]),e._v(" "),r("h3",{attrs:{id:"docker-desktop-installer-安装-docker-失败"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker-desktop-installer-安装-docker-失败"}},[e._v("#")]),e._v(" Docker Desktop Installer 安装 Docker 失败")]),e._v(" "),r("ul",[r("li",[e._v("错误信息：Docker Desktop requires Windows 10 Pro/Enterprise (15063+) or Windows 10 Home (19018+).")])]),e._v(" "),r("ul",[r("li",[e._v("错误原因：Docker Desktop 使用需要 Windows 10 Pro 或 Enterprise，而我使用的 windows 10 家庭版，至少需要专业版才可以直接支持 Docker Desktop")]),e._v(" "),r("li",[e._v("解决方案：https://www.sitepoint.com/docker-windows-10-home/")])]),e._v(" "),r("h3",{attrs:{id:"如何在-windows-家庭版安装-docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#如何在-windows-家庭版安装-docker"}},[e._v("#")]),e._v(" 如何在 Windows 家庭版安装 Docker")]),e._v(" "),r("ul",[r("li",[e._v("安装 Git Bash")]),e._v(" "),r("li",[e._v("安装 Chocolatey，这是 Windows 的软件包管理器。这将使安装其余程序的工作更加容易。")]),e._v(" "),r("li",[e._v("安装 VirtualBox 及其扩展名。另外，如果您已完成 Chocolatey 的安装，则只需在提升的 PowerShell 终端中执行以下命令"),r("code",[e._v("choco install virtualbox")])]),e._v(" "),r("li",[e._v("安装 Docker Machine，在 PowerShell 执行如下命令"),r("code",[e._v("choco install docker-machine")])]),e._v(" "),r("li",[e._v("在 Git Bash 终端上，使用 Docker Machine 安装 Docker Engine。这将下载包含 Docker Engine 的 Linux 映像，并使用 VirtualBox 将其作为 VM 运行。"),r("code",[e._v("docker-machine create --driver virtualbox默认")])])]),e._v(" "),r("h3",{attrs:{id:"docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[e._v("#")]),e._v(" Docker")])])}),[],!1,null,null,null);o.default=s.exports}}]);