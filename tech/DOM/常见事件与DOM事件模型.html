<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见事件与DOM事件模型 | 一起学前端</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.c743a759.css" as="style"><link rel="preload" href="/assets/js/app.3aeb1e98.js" as="script"><link rel="preload" href="/assets/js/2.83af3cc0.js" as="script"><link rel="preload" href="/assets/js/77.88a71943.js" as="script"><link rel="prefetch" href="/assets/js/10.3b2706bb.js"><link rel="prefetch" href="/assets/js/100.c8f756f0.js"><link rel="prefetch" href="/assets/js/101.04b72338.js"><link rel="prefetch" href="/assets/js/102.8a80ca0d.js"><link rel="prefetch" href="/assets/js/103.39222573.js"><link rel="prefetch" href="/assets/js/104.ef400740.js"><link rel="prefetch" href="/assets/js/105.cec6e582.js"><link rel="prefetch" href="/assets/js/106.b3f2d115.js"><link rel="prefetch" href="/assets/js/107.6fab1075.js"><link rel="prefetch" href="/assets/js/108.34b05216.js"><link rel="prefetch" href="/assets/js/109.097f1fcb.js"><link rel="prefetch" href="/assets/js/11.d0e2210e.js"><link rel="prefetch" href="/assets/js/110.98b0cd18.js"><link rel="prefetch" href="/assets/js/111.ac942fbf.js"><link rel="prefetch" href="/assets/js/112.37924f75.js"><link rel="prefetch" href="/assets/js/113.e0f894d4.js"><link rel="prefetch" href="/assets/js/114.d2967b20.js"><link rel="prefetch" href="/assets/js/115.42ac08cd.js"><link rel="prefetch" href="/assets/js/116.d91753ef.js"><link rel="prefetch" href="/assets/js/117.f4538cd6.js"><link rel="prefetch" href="/assets/js/118.2d8297db.js"><link rel="prefetch" href="/assets/js/119.e655a176.js"><link rel="prefetch" href="/assets/js/12.f8c43eb2.js"><link rel="prefetch" href="/assets/js/120.9de91b9b.js"><link rel="prefetch" href="/assets/js/121.c87bffa0.js"><link rel="prefetch" href="/assets/js/122.3da90492.js"><link rel="prefetch" href="/assets/js/123.b0f831ca.js"><link rel="prefetch" href="/assets/js/124.55deaf22.js"><link rel="prefetch" href="/assets/js/125.ce7b3e7e.js"><link rel="prefetch" href="/assets/js/126.f1046b02.js"><link rel="prefetch" href="/assets/js/127.4f2064bd.js"><link rel="prefetch" href="/assets/js/128.954f6993.js"><link rel="prefetch" href="/assets/js/129.27175358.js"><link rel="prefetch" href="/assets/js/13.b0d38a0a.js"><link rel="prefetch" href="/assets/js/130.eeffe648.js"><link rel="prefetch" href="/assets/js/131.6fb52502.js"><link rel="prefetch" href="/assets/js/132.d69871d0.js"><link rel="prefetch" href="/assets/js/133.0d1c7395.js"><link rel="prefetch" href="/assets/js/134.20aa1a8e.js"><link rel="prefetch" href="/assets/js/135.4dceb969.js"><link rel="prefetch" href="/assets/js/136.2a931837.js"><link rel="prefetch" href="/assets/js/137.4a3ea2bc.js"><link rel="prefetch" href="/assets/js/138.f3835b29.js"><link rel="prefetch" href="/assets/js/139.b9f3bbb3.js"><link rel="prefetch" href="/assets/js/14.fe64de54.js"><link rel="prefetch" href="/assets/js/140.811b72d5.js"><link rel="prefetch" href="/assets/js/141.80a96e0b.js"><link rel="prefetch" href="/assets/js/142.9fe53172.js"><link rel="prefetch" href="/assets/js/143.f1f9891c.js"><link rel="prefetch" href="/assets/js/144.09369c3e.js"><link rel="prefetch" href="/assets/js/15.7784b150.js"><link rel="prefetch" href="/assets/js/16.dca47ed7.js"><link rel="prefetch" href="/assets/js/17.053c0c85.js"><link rel="prefetch" href="/assets/js/18.7d76c9cc.js"><link rel="prefetch" href="/assets/js/19.504036bb.js"><link rel="prefetch" href="/assets/js/20.cdf651a9.js"><link rel="prefetch" href="/assets/js/21.750cb245.js"><link rel="prefetch" href="/assets/js/22.85646704.js"><link rel="prefetch" href="/assets/js/23.9c2d9bfa.js"><link rel="prefetch" href="/assets/js/24.b9b5e278.js"><link rel="prefetch" href="/assets/js/25.787db747.js"><link rel="prefetch" href="/assets/js/26.1b65e7e2.js"><link rel="prefetch" href="/assets/js/27.5b29b74d.js"><link rel="prefetch" href="/assets/js/28.c41c72df.js"><link rel="prefetch" href="/assets/js/29.f452a5af.js"><link rel="prefetch" href="/assets/js/3.b7576c58.js"><link rel="prefetch" href="/assets/js/30.4d7c359f.js"><link rel="prefetch" href="/assets/js/31.6cf93bd9.js"><link rel="prefetch" href="/assets/js/32.b3e0e356.js"><link rel="prefetch" href="/assets/js/33.731b7cbd.js"><link rel="prefetch" href="/assets/js/34.eb522b7e.js"><link rel="prefetch" href="/assets/js/35.7e9a32ef.js"><link rel="prefetch" href="/assets/js/36.7d0ff7fd.js"><link rel="prefetch" href="/assets/js/37.f6bb08ad.js"><link rel="prefetch" href="/assets/js/38.cdb5bb8c.js"><link rel="prefetch" href="/assets/js/39.f16d59e2.js"><link rel="prefetch" href="/assets/js/4.30bc6949.js"><link rel="prefetch" href="/assets/js/40.c3b52b21.js"><link rel="prefetch" href="/assets/js/41.3cf2209b.js"><link rel="prefetch" href="/assets/js/42.acafff1c.js"><link rel="prefetch" href="/assets/js/43.33fc0f17.js"><link rel="prefetch" href="/assets/js/44.4a24ebd3.js"><link rel="prefetch" href="/assets/js/45.47b9a80c.js"><link rel="prefetch" href="/assets/js/46.a20cee2e.js"><link rel="prefetch" href="/assets/js/47.ef3e96e9.js"><link rel="prefetch" href="/assets/js/48.2923f43d.js"><link rel="prefetch" href="/assets/js/49.30e0fe44.js"><link rel="prefetch" href="/assets/js/5.7c7749a8.js"><link rel="prefetch" href="/assets/js/50.2f619fa8.js"><link rel="prefetch" href="/assets/js/51.85cd9572.js"><link rel="prefetch" href="/assets/js/52.37869db5.js"><link rel="prefetch" href="/assets/js/53.c0127118.js"><link rel="prefetch" href="/assets/js/54.75416c42.js"><link rel="prefetch" href="/assets/js/55.3a777cbe.js"><link rel="prefetch" href="/assets/js/56.f6dab9be.js"><link rel="prefetch" href="/assets/js/57.63169b90.js"><link rel="prefetch" href="/assets/js/58.96fbacda.js"><link rel="prefetch" href="/assets/js/59.10f7f026.js"><link rel="prefetch" href="/assets/js/6.10d1cb7c.js"><link rel="prefetch" href="/assets/js/60.293b9f06.js"><link rel="prefetch" href="/assets/js/61.dc639372.js"><link rel="prefetch" href="/assets/js/62.1d8a67bb.js"><link rel="prefetch" href="/assets/js/63.8710c4e1.js"><link rel="prefetch" href="/assets/js/64.2730d625.js"><link rel="prefetch" href="/assets/js/65.6d547ea3.js"><link rel="prefetch" href="/assets/js/66.3f14281d.js"><link rel="prefetch" href="/assets/js/67.a224fdad.js"><link rel="prefetch" href="/assets/js/68.08d33173.js"><link rel="prefetch" href="/assets/js/69.c372c0a4.js"><link rel="prefetch" href="/assets/js/7.7aaacf14.js"><link rel="prefetch" href="/assets/js/70.ad6c1a77.js"><link rel="prefetch" href="/assets/js/71.7d6cd811.js"><link rel="prefetch" href="/assets/js/72.7f03d2ea.js"><link rel="prefetch" href="/assets/js/73.b5813982.js"><link rel="prefetch" href="/assets/js/74.81032885.js"><link rel="prefetch" href="/assets/js/75.9e69c8bb.js"><link rel="prefetch" href="/assets/js/76.404bebc2.js"><link rel="prefetch" href="/assets/js/78.35991ca7.js"><link rel="prefetch" href="/assets/js/79.42544d6c.js"><link rel="prefetch" href="/assets/js/8.369c074c.js"><link rel="prefetch" href="/assets/js/80.3ea8d15e.js"><link rel="prefetch" href="/assets/js/81.ffa2550d.js"><link rel="prefetch" href="/assets/js/82.92c95751.js"><link rel="prefetch" href="/assets/js/83.db1129ed.js"><link rel="prefetch" href="/assets/js/84.0d4ed3df.js"><link rel="prefetch" href="/assets/js/85.a82eed90.js"><link rel="prefetch" href="/assets/js/86.dc7872e9.js"><link rel="prefetch" href="/assets/js/87.eadf1786.js"><link rel="prefetch" href="/assets/js/88.4a476129.js"><link rel="prefetch" href="/assets/js/89.719bfd17.js"><link rel="prefetch" href="/assets/js/9.1bc77ba7.js"><link rel="prefetch" href="/assets/js/90.4fd24039.js"><link rel="prefetch" href="/assets/js/91.1002e8e1.js"><link rel="prefetch" href="/assets/js/92.2c249787.js"><link rel="prefetch" href="/assets/js/93.8d310eb4.js"><link rel="prefetch" href="/assets/js/94.1e299b90.js"><link rel="prefetch" href="/assets/js/95.61e63fb3.js"><link rel="prefetch" href="/assets/js/96.f1c359c1.js"><link rel="prefetch" href="/assets/js/97.b85fc8ad.js"><link rel="prefetch" href="/assets/js/98.4223ffd1.js"><link rel="prefetch" href="/assets/js/99.63a5a161.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c743a759.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">一起学前端</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/node.js/" class="nav-link">
  node.js
</a></div><div class="nav-item"><a href="https://juejin.cn/user/2137106337773645/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/node.js/" class="nav-link">
  node.js
</a></div><div class="nav-item"><a href="https://juejin.cn/user/2137106337773645/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VS Code</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>阅读源码</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>jQuery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Sass</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bootstrap</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>DOM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech/DOM/常见事件与DOM事件模型.html" class="active sidebar-link">常见事件与DOM事件模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#_1-鼠标事件" class="sidebar-link">1.鼠标事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#根据实际情况使用-mouseover-或-mouseenter" class="sidebar-link">根据实际情况使用 mouseover 或 mouseenter</a></li></ul></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#_2-键盘事件" class="sidebar-link">2.键盘事件</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#_3-表单事件" class="sidebar-link">3.表单事件</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#_4-移动端-touch-事件" class="sidebar-link">4.移动端 Touch 事件</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#_5-系统事件" class="sidebar-link">5.系统事件</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#自定义事件" class="sidebar-link">自定义事件</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#事件捕获和事件冒泡" class="sidebar-link">事件捕获和事件冒泡</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#捕获不能取消-但冒泡可以取消" class="sidebar-link">捕获不能取消，但冒泡可以取消</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#滚动事件取消冒泡" class="sidebar-link">滚动事件取消冒泡</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#dom-0-级事件" class="sidebar-link">DOM 0 级事件</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#dom-2-级事件" class="sidebar-link">DOM 2 级事件</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#dom-3-级事件" class="sidebar-link">DOM 3 级事件</a></li><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#事件对象" class="sidebar-link">事件对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/DOM/常见事件与DOM事件模型.html#e-target-vs-e-currenttarget" class="sidebar-link">e.target vs e.currentTarget</a></li></ul></li></ul></li><li><a href="/tech/DOM/DOM事件.html" class="sidebar-link">DOM事件</a></li><li><a href="/tech/DOM/DOM diff算法.html" class="sidebar-link">DOM diff算法</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>BOM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>http</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>正则表达式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mockjs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构和算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开源</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常见英文词汇</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常见事件"><a href="#常见事件" class="header-anchor">#</a> 常见事件</h1> <h2 id="_1-鼠标事件"><a href="#_1-鼠标事件" class="header-anchor">#</a> 1.鼠标事件</h2> <ul><li>点击事件： click（单击），dblclick（双击），oncontentmenu （右键单击）</li> <li>按下抬起事件：mousedown（按下），mouseup（抬起）</li> <li>滚动滚轮事件：mousewheel（滚动）</li> <li>光标经过触发事件：mouseover（滑过），mouseout（滑出）</li> <li>光标移动时触发事件：mousemove（移动）</li> <li>光标进入和光标离开触发事件：mouseenter（进入）， mouseleave（离开）</li></ul> <h3 id="根据实际情况使用-mouseover-或-mouseenter"><a href="#根据实际情况使用-mouseover-或-mouseenter" class="header-anchor">#</a> 根据实际情况使用 mouseover 或 mouseenter</h3> <p><strong>问题</strong>：
细心的读者可能已经发现了，mouseover 和 mouseout 这组事件与 mouseenter 和 mouseleave 这组事件看起来很像，功能也很类似，那么为什么会有这两组事件呢，其中一种事件不就可以满足我们的需求了吗？<br> <strong>答案</strong>：
因为 mouseover 存在<strong>冒泡机制</strong>，会把自身的事件传递给祖先元素，事件会在当前元素和祖先元素上触发<br>
而 mouseenter 不存在冒泡机制，<strong>只会在当前元素触发</strong>，祖先元素不会触发。（如果你还不了解什么是冒泡，可以先去看下面的事件冒泡，看完以后再回来看这里。）<br>
所以，两种事件本质上是不同的，功能上是互补的。<br> <strong>总结</strong>：
你只需要判断是否需要在祖先元素上触发事件即可，如果需要则使用 mouseover/mouseout，如果不需要则使用 mouseenter/mouseleave。大多数情况下我们会使用<strong>mouseenter/mouseleave</strong>。</p> <h2 id="_2-键盘事件"><a href="#_2-键盘事件" class="header-anchor">#</a> 2.键盘事件</h2> <ul><li>keydown <strong>按下</strong>任意按键时触发</li> <li>keypress 除 Shift、Fn、CapsLock 外的任意键被<strong>按住</strong>时触发。（连续触发）</li> <li>keyup <strong>松开</strong>任意按键时触发</li></ul> <h2 id="_3-表单事件"><a href="#_3-表单事件" class="header-anchor">#</a> 3.表单事件</h2> <ul><li>onfocus 获取焦点</li> <li>onblur 失去焦点</li> <li>oninput 内容改变时触发</li> <li>onchange 内容改变并且输入框失去焦点时触发</li></ul> <h2 id="_4-移动端-touch-事件"><a href="#_4-移动端-touch-事件" class="header-anchor">#</a> 4.移动端 Touch 事件</h2> <ul><li>touchstart 接触设备时触发</li> <li>touchmove 在设备移动时触发</li> <li>touchend 离开设备时触发</li> <li>touchcancel 操作取消（非正常状态下操作结束）</li></ul> <h2 id="_5-系统事件"><a href="#_5-系统事件" class="header-anchor">#</a> 5.系统事件</h2> <ul><li>scroll 滚动</li> <li>resize 大小改变时触发</li> <li>load 加载完毕</li> <li>beforeunload 即将被卸载</li> <li>unload 正在被卸载</li></ul> <h2 id="自定义事件"><a href="#自定义事件" class="header-anchor">#</a> 自定义事件</h2> <p>原生事件几乎已经可以满足我们的所有需求，但是除了原生事件外，我们还可以通过自定义事件来开发自己的事件系统。</p> <div class="language-js extra-class"><pre class="language-js"><code>    btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CostomEvent</span><span class="token punctuation">(</span><span class="token string">'myEvent'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">detail</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'酸菜鱼'</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">bubbles</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 事件会自动冒泡</span>
            <span class="token literal-property property">cancelable</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token comment">// 不允许阻止冒泡</span>
        <span class="token punctuation">)</span>
        btn<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>然后像使用其它事件那样为自定义事件添加监听即可</p> <div class="language-js extra-class"><pre class="language-js"><code>div1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;myEvent&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是自定义事件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果你还想了解更多的事件行为，可以阅读 MDN 的<a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener noreferrer">事件参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>文档。</p> <h1 id="dom-事件模型"><a href="#dom-事件模型" class="header-anchor">#</a> DOM 事件模型</h1> <p>DOM 事件模型通常可以分为两个阶段，冒泡阶段和捕获阶段。</p> <p><img src="https://user-gold-cdn.xitu.io/2020/6/25/172ebcf44cad45d6?w=667&amp;h=702&amp;f=png&amp;s=399693" alt=""></p> <h2 id="事件捕获和事件冒泡"><a href="#事件捕获和事件冒泡" class="header-anchor">#</a> 事件捕获和事件冒泡</h2> <p>事件捕获：从<strong>外部元素向内部元素</strong>逐级查找绑定监听函数的元素</p> <p>事件冒泡：从<strong>内部元素向外部元素</strong>逐级查找绑定监听函数的元素</p> <h2 id="捕获不能取消-但冒泡可以取消"><a href="#捕获不能取消-但冒泡可以取消" class="header-anchor">#</a> 捕获不能取消，但冒泡可以取消</h2> <p>e.stopPropagation 取消冒泡</p> <p>阻止默认行为 preventDefault</p> <p>滚动事件无法通过 e.stopPropagation 取消冒泡</p> <h2 id="滚动事件取消冒泡"><a href="#滚动事件取消冒泡" class="header-anchor">#</a> 滚动事件取消冒泡</h2> <p>阻止滚轮事件</p> <p>xxx.addEventListener('wheel',(e)=&gt;{ e.preventDefault()})
隐藏滚动条</p> <p>::webkit-scrollbar{ width: 0 !important }
移动端取消触屏事件</p> <p>xxx.addEventListener('touchstart', (e) =&gt; { e.preventDefault()})</p> <h1 id="事件绑定"><a href="#事件绑定" class="header-anchor">#</a> 事件绑定</h1> <p>默认 DOM 元素的点击事件为 null
addEventListener(IE8 及以下不支持)
onclick
attachEvent</p> <h2 id="dom-0-级事件"><a href="#dom-0-级事件" class="header-anchor">#</a> DOM 0 级事件</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id=&quot;btn&quot;&gt;&lt;/div&gt;
let btn = document.querySelector(&quot;btn&quot;)
btn.onclick =fcuntion(){}
</code></pre></div><p>缺点: 在一个事件上<strong>无法同时绑定多个</strong>处理函数（使用这种方式后续绑定的处理函数会覆盖之前的处理函数，所以只支持绑定单个处理函数）</p> <h2 id="dom-2-级事件"><a href="#dom-2-级事件" class="header-anchor">#</a> DOM 2 级事件</h2> <p>DOM 2 级事件修复了一个处理程序无法同时绑定多个处理函数的缺点，可以<strong>控制函数的触发阶段（捕获或冒泡）</strong>，对任何 DOM 元素都是有效的，而不仅仅只对 HTML 元素有效。</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id=&quot;btn&quot;&gt;&lt;/div&gt;
let btn = document.querySelector(&quot;btn&quot;)
btn.addEventListener = ('click', function(){}, false)
btn.addEventListener = ('click', function(){}, false)
</code></pre></div><p>e 只存在于事件触发的时候，时间结束后，e 就不存在了</p> <p>addEventListener(事件名，回调函数，布尔值)，通常我们在使用 addEventListener 的时候只会传递前两个参数，而不会传递第三个参数，<strong>第三个参数就是来决定把事件添加到冒泡阶段还是捕获阶段的</strong>，如果为 true，函数在捕获阶段执行，如果不传或者为 falsy 值，函数则会在冒泡阶段执行。</p> <p><strong>removeEventListener 移除事件绑定</strong></p> <div class="language- extra-class"><pre class="language-text"><code>// IE8级以下版本只支持冒泡型事件,不支持事件捕获所以没有第三个参数
// 方法中包含2个参数，分别是绑定的事件处理属性名称（不包含on）、事件处理函数
btn.attachEvent('onclick', fn); // 绑定事件
btn.detachEvent('onclick', fn); // 解绑事件
</code></pre></div><h2 id="dom-3-级事件"><a href="#dom-3-级事件" class="header-anchor">#</a> DOM 3 级事件</h2> <p>添加了更多地事件类型</p> <h2 id="事件对象"><a href="#事件对象" class="header-anchor">#</a> 事件对象</h2> <ol><li>鼠标事件对象</li> <li>键盘事件对象</li> <li>Touch 事件对象</li></ol> <p>如果你想在<strong>事件结束后</strong>使用当时触发事件的 e 对象，请把它保存起来</p> <h3 id="e-target-vs-e-currenttarget"><a href="#e-target-vs-e-currenttarget" class="header-anchor">#</a> e.target vs e.currentTarget</h3> <p>target 用户点击的，currentTarget 开发者监听的</p> <p>不过有一种特殊情况，只在一个 DOM 元素的捕获和冒泡阶段监听函数，谁先监听谁先执行</p> <h4 id="事件的特性"><a href="#事件的特性" class="header-anchor">#</a> 事件的特性</h4> <ul><li>Bubbles 表示是否冒泡</li> <li>Cancelable 表示是否支持开发者取消冒泡</li> <li>捕获不能取消，但冒泡可以取消</li> <li>e.stopPropagation 取消冒泡</li></ul> <h1 id="事件委托"><a href="#事件委托" class="header-anchor">#</a> 事件委托</h1> <p>事件委托又叫事件代理，是指不监听元素本身，而去监听其祖先元素，然后判断触发事件的元素是否为该元素<br>
应用场景：有多个子元素需要同时绑定监听事件，并且需要在新增兄弟元素后也自动为它绑定同样的监听事件，此时就需要使用事件委托</p> <h4 id="优点"><a href="#优点" class="header-anchor">#</a> 优点：</h4> <div class="language- extra-class"><pre><code>1.减少监听事件的数量
2.动态添加的元素也可以被监听到
</code></pre></div><p>自己封装一个事件委托函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;#div2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span> fn<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">eventType<span class="token punctuation">,</span> element<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>element <span class="token keyword">instanceof</span> <span class="token class-name">Element</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> el <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>el<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>element <span class="token operator">===</span> selector<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        el <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      el <span class="token operator">=</span> el<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    el <span class="token operator">&amp;&amp;</span> <span class="token function">el</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> e<span class="token punctuation">,</span> el<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>最后提出一个拓展问题：既然存在自定义事件的方法，那么我们就有了实现 JS 事件系统的的基础，大家可以思考一下如何手写一个 JS 事件系统（提示：使用队列）</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tech/Bootstrap/Bootstrap快速上手.html" class="prev">
        Bootstrap
      </a></span> <span class="next"><a href="/tech/DOM/DOM事件.html">
        DOM事件
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3aeb1e98.js" defer></script><script src="/assets/js/2.83af3cc0.js" defer></script><script src="/assets/js/77.88a71943.js" defer></script>
  </body>
</html>
