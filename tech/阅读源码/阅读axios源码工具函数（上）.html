<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>阅读axios源码工具函数（上） | 一起学前端</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.c743a759.css" as="style"><link rel="preload" href="/assets/js/app.3aeb1e98.js" as="script"><link rel="preload" href="/assets/js/2.83af3cc0.js" as="script"><link rel="preload" href="/assets/js/123.b0f831ca.js" as="script"><link rel="prefetch" href="/assets/js/10.3b2706bb.js"><link rel="prefetch" href="/assets/js/100.c8f756f0.js"><link rel="prefetch" href="/assets/js/101.04b72338.js"><link rel="prefetch" href="/assets/js/102.8a80ca0d.js"><link rel="prefetch" href="/assets/js/103.39222573.js"><link rel="prefetch" href="/assets/js/104.ef400740.js"><link rel="prefetch" href="/assets/js/105.cec6e582.js"><link rel="prefetch" href="/assets/js/106.b3f2d115.js"><link rel="prefetch" href="/assets/js/107.6fab1075.js"><link rel="prefetch" href="/assets/js/108.34b05216.js"><link rel="prefetch" href="/assets/js/109.097f1fcb.js"><link rel="prefetch" href="/assets/js/11.d0e2210e.js"><link rel="prefetch" href="/assets/js/110.98b0cd18.js"><link rel="prefetch" href="/assets/js/111.ac942fbf.js"><link rel="prefetch" href="/assets/js/112.37924f75.js"><link rel="prefetch" href="/assets/js/113.e0f894d4.js"><link rel="prefetch" href="/assets/js/114.d2967b20.js"><link rel="prefetch" href="/assets/js/115.42ac08cd.js"><link rel="prefetch" href="/assets/js/116.d91753ef.js"><link rel="prefetch" href="/assets/js/117.f4538cd6.js"><link rel="prefetch" href="/assets/js/118.2d8297db.js"><link rel="prefetch" href="/assets/js/119.e655a176.js"><link rel="prefetch" href="/assets/js/12.f8c43eb2.js"><link rel="prefetch" href="/assets/js/120.9de91b9b.js"><link rel="prefetch" href="/assets/js/121.c87bffa0.js"><link rel="prefetch" href="/assets/js/122.3da90492.js"><link rel="prefetch" href="/assets/js/124.55deaf22.js"><link rel="prefetch" href="/assets/js/125.ce7b3e7e.js"><link rel="prefetch" href="/assets/js/126.f1046b02.js"><link rel="prefetch" href="/assets/js/127.4f2064bd.js"><link rel="prefetch" href="/assets/js/128.954f6993.js"><link rel="prefetch" href="/assets/js/129.27175358.js"><link rel="prefetch" href="/assets/js/13.b0d38a0a.js"><link rel="prefetch" href="/assets/js/130.eeffe648.js"><link rel="prefetch" href="/assets/js/131.6fb52502.js"><link rel="prefetch" href="/assets/js/132.d69871d0.js"><link rel="prefetch" href="/assets/js/133.0d1c7395.js"><link rel="prefetch" href="/assets/js/134.20aa1a8e.js"><link rel="prefetch" href="/assets/js/135.4dceb969.js"><link rel="prefetch" href="/assets/js/136.2a931837.js"><link rel="prefetch" href="/assets/js/137.4a3ea2bc.js"><link rel="prefetch" href="/assets/js/138.f3835b29.js"><link rel="prefetch" href="/assets/js/139.b9f3bbb3.js"><link rel="prefetch" href="/assets/js/14.fe64de54.js"><link rel="prefetch" href="/assets/js/140.811b72d5.js"><link rel="prefetch" href="/assets/js/141.80a96e0b.js"><link rel="prefetch" href="/assets/js/142.9fe53172.js"><link rel="prefetch" href="/assets/js/143.f1f9891c.js"><link rel="prefetch" href="/assets/js/144.09369c3e.js"><link rel="prefetch" href="/assets/js/15.7784b150.js"><link rel="prefetch" href="/assets/js/16.dca47ed7.js"><link rel="prefetch" href="/assets/js/17.053c0c85.js"><link rel="prefetch" href="/assets/js/18.7d76c9cc.js"><link rel="prefetch" href="/assets/js/19.504036bb.js"><link rel="prefetch" href="/assets/js/20.cdf651a9.js"><link rel="prefetch" href="/assets/js/21.750cb245.js"><link rel="prefetch" href="/assets/js/22.85646704.js"><link rel="prefetch" href="/assets/js/23.9c2d9bfa.js"><link rel="prefetch" href="/assets/js/24.b9b5e278.js"><link rel="prefetch" href="/assets/js/25.787db747.js"><link rel="prefetch" href="/assets/js/26.1b65e7e2.js"><link rel="prefetch" href="/assets/js/27.5b29b74d.js"><link rel="prefetch" href="/assets/js/28.c41c72df.js"><link rel="prefetch" href="/assets/js/29.f452a5af.js"><link rel="prefetch" href="/assets/js/3.b7576c58.js"><link rel="prefetch" href="/assets/js/30.4d7c359f.js"><link rel="prefetch" href="/assets/js/31.6cf93bd9.js"><link rel="prefetch" href="/assets/js/32.b3e0e356.js"><link rel="prefetch" href="/assets/js/33.731b7cbd.js"><link rel="prefetch" href="/assets/js/34.eb522b7e.js"><link rel="prefetch" href="/assets/js/35.7e9a32ef.js"><link rel="prefetch" href="/assets/js/36.7d0ff7fd.js"><link rel="prefetch" href="/assets/js/37.f6bb08ad.js"><link rel="prefetch" href="/assets/js/38.cdb5bb8c.js"><link rel="prefetch" href="/assets/js/39.f16d59e2.js"><link rel="prefetch" href="/assets/js/4.30bc6949.js"><link rel="prefetch" href="/assets/js/40.c3b52b21.js"><link rel="prefetch" href="/assets/js/41.3cf2209b.js"><link rel="prefetch" href="/assets/js/42.acafff1c.js"><link rel="prefetch" href="/assets/js/43.33fc0f17.js"><link rel="prefetch" href="/assets/js/44.4a24ebd3.js"><link rel="prefetch" href="/assets/js/45.47b9a80c.js"><link rel="prefetch" href="/assets/js/46.a20cee2e.js"><link rel="prefetch" href="/assets/js/47.ef3e96e9.js"><link rel="prefetch" href="/assets/js/48.2923f43d.js"><link rel="prefetch" href="/assets/js/49.30e0fe44.js"><link rel="prefetch" href="/assets/js/5.7c7749a8.js"><link rel="prefetch" href="/assets/js/50.2f619fa8.js"><link rel="prefetch" href="/assets/js/51.85cd9572.js"><link rel="prefetch" href="/assets/js/52.37869db5.js"><link rel="prefetch" href="/assets/js/53.c0127118.js"><link rel="prefetch" href="/assets/js/54.75416c42.js"><link rel="prefetch" href="/assets/js/55.3a777cbe.js"><link rel="prefetch" href="/assets/js/56.f6dab9be.js"><link rel="prefetch" href="/assets/js/57.63169b90.js"><link rel="prefetch" href="/assets/js/58.96fbacda.js"><link rel="prefetch" href="/assets/js/59.10f7f026.js"><link rel="prefetch" href="/assets/js/6.10d1cb7c.js"><link rel="prefetch" href="/assets/js/60.293b9f06.js"><link rel="prefetch" href="/assets/js/61.dc639372.js"><link rel="prefetch" href="/assets/js/62.1d8a67bb.js"><link rel="prefetch" href="/assets/js/63.8710c4e1.js"><link rel="prefetch" href="/assets/js/64.2730d625.js"><link rel="prefetch" href="/assets/js/65.6d547ea3.js"><link rel="prefetch" href="/assets/js/66.3f14281d.js"><link rel="prefetch" href="/assets/js/67.a224fdad.js"><link rel="prefetch" href="/assets/js/68.08d33173.js"><link rel="prefetch" href="/assets/js/69.c372c0a4.js"><link rel="prefetch" href="/assets/js/7.7aaacf14.js"><link rel="prefetch" href="/assets/js/70.ad6c1a77.js"><link rel="prefetch" href="/assets/js/71.7d6cd811.js"><link rel="prefetch" href="/assets/js/72.7f03d2ea.js"><link rel="prefetch" href="/assets/js/73.b5813982.js"><link rel="prefetch" href="/assets/js/74.81032885.js"><link rel="prefetch" href="/assets/js/75.9e69c8bb.js"><link rel="prefetch" href="/assets/js/76.404bebc2.js"><link rel="prefetch" href="/assets/js/77.88a71943.js"><link rel="prefetch" href="/assets/js/78.35991ca7.js"><link rel="prefetch" href="/assets/js/79.42544d6c.js"><link rel="prefetch" href="/assets/js/8.369c074c.js"><link rel="prefetch" href="/assets/js/80.3ea8d15e.js"><link rel="prefetch" href="/assets/js/81.ffa2550d.js"><link rel="prefetch" href="/assets/js/82.92c95751.js"><link rel="prefetch" href="/assets/js/83.db1129ed.js"><link rel="prefetch" href="/assets/js/84.0d4ed3df.js"><link rel="prefetch" href="/assets/js/85.a82eed90.js"><link rel="prefetch" href="/assets/js/86.dc7872e9.js"><link rel="prefetch" href="/assets/js/87.eadf1786.js"><link rel="prefetch" href="/assets/js/88.4a476129.js"><link rel="prefetch" href="/assets/js/89.719bfd17.js"><link rel="prefetch" href="/assets/js/9.1bc77ba7.js"><link rel="prefetch" href="/assets/js/90.4fd24039.js"><link rel="prefetch" href="/assets/js/91.1002e8e1.js"><link rel="prefetch" href="/assets/js/92.2c249787.js"><link rel="prefetch" href="/assets/js/93.8d310eb4.js"><link rel="prefetch" href="/assets/js/94.1e299b90.js"><link rel="prefetch" href="/assets/js/95.61e63fb3.js"><link rel="prefetch" href="/assets/js/96.f1c359c1.js"><link rel="prefetch" href="/assets/js/97.b85fc8ad.js"><link rel="prefetch" href="/assets/js/98.4223ffd1.js"><link rel="prefetch" href="/assets/js/99.63a5a161.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c743a759.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">一起学前端</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/node.js/" class="nav-link">
  node.js
</a></div><div class="nav-item"><a href="https://juejin.cn/user/2137106337773645/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/interview/" class="nav-link">
  面试题
</a></div><div class="nav-item"><a href="/vue/" class="nav-link">
  vue
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/node.js/" class="nav-link">
  node.js
</a></div><div class="nav-item"><a href="https://juejin.cn/user/2137106337773645/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VS Code</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>阅读源码</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/tech/阅读源码/为什么 Vue2 this 能够直接获取到 data 和 methods中的变量和方法？.html" class="sidebar-link">为什么 Vue2 this 能够直接获取到 data 和 methods中的变量和方法？</a></li><li><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html" class="active sidebar-link">阅读axios源码工具函数（上）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#theme-channing-cyan" class="sidebar-link">theme: channing-cyan</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#如何阅读-github-上的源码" class="sidebar-link">如何阅读 github 上的源码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#克隆-axios-项目查看源码" class="sidebar-link">克隆 axios 项目查看源码</a></li></ul></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#axios-中的工具函数" class="sidebar-link">axios 中的工具函数</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#基础函数" class="sidebar-link">基础函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#typeoftest-使用-typeof-获取当前数据类型" class="sidebar-link">typeOfTest 使用 typeOf 获取当前数据类型</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#kindof-获取当前数据类型" class="sidebar-link">kindOf 获取当前数据类型</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#kindoftest-判断当前数据类型是否与期望的类型一致" class="sidebar-link">kindOfTest 判断当前数据类型是否与期望的类型一致</a></li></ul></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#判断数据类型的函数" class="sidebar-link">判断数据类型的函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#判断-js基本数据类型-的函数" class="sidebar-link">判断 JS基本数据类型 的函数</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#判断js引用数据类型和其他的数据类型" class="sidebar-link">判断JS引用数据类型和其他的数据类型</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isarray-判断是否为数组" class="sidebar-link">isArray 判断是否为数组</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isobject-判断对象" class="sidebar-link">isObject 判断对象</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isplainobject-判断-纯对象" class="sidebar-link">isPlainObject 判断 纯对象</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isurlsearchparams-判断url携带的参数" class="sidebar-link">isURLSearchParams 判断url携带的参数</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#urlsearchparams" class="sidebar-link">URLSearchParams</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isfilelist判断-filelist" class="sidebar-link">isFileList判断 FileList</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#filelist" class="sidebar-link">FileList</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isblob-判断-blob" class="sidebar-link">isBlob 判断 Blob</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isstream-判断是否是流" class="sidebar-link">isStream 判断是否是流</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isbuffer-判断-buffer" class="sidebar-link">isBuffer 判断 buffer</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isarraybuffer-判断-arraybuffer" class="sidebar-link">isArrayBuffer 判断 ArrayBuffer</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isarraybufferview-判断arraybufferview" class="sidebar-link">isArrayBufferView 判断ArrayBufferView</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#isformdata-判断formdata" class="sidebar-link">isFormData 判断FormData</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#istypedarray-判断typedarray" class="sidebar-link">isTypedArray 判断TypedArray</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#typedarray" class="sidebar-link">TypedArray</a></li></ul></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/tech/阅读源码/阅读axios源码工具函数（上）.html#参考文章" class="sidebar-link">参考文章</a></li></ul></li><li><a href="/tech/阅读源码/阅读axios源码工具函数（下）.html" class="sidebar-link">阅读axios源码工具函数（下）</a></li><li><a href="/tech/阅读源码/阅读Vue2源码工具函数.html" class="sidebar-link">阅读Vue2源码工具函数</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>jQuery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Sass</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Bootstrap</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DOM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>BOM</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>http</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>正则表达式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mockjs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构和算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开源</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常见英文词汇</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><hr> <h2 id="theme-channing-cyan"><a href="#theme-channing-cyan" class="header-anchor">#</a> theme: channing-cyan</h2> <p><strong>本文参加了由<a href="https://link.juejin.cn/?target=https%3A%2F%2Flxchuan12.gitee.io" title="https://lxchuan12.gitee.io" target="_blank" rel="noopener noreferrer">公众号@若川视野<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 发起的每周源码共读活动，<a href="https://juejin.cn/post/7079706017579139102" title="https://juejin.cn/post/7079706017579139102" target="_blank" rel="noopener noreferrer">点击了解详情一起参与。<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong><br> <strong>这是源码共读的第19期，链接：<a href="https://juejin.cn/post/7083113675879350309" title="https://juejin.cn/post/7083113675879350309" target="_blank" rel="noopener noreferrer">axios 源码中10多个工具函数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <blockquote><p>之前总觉得阅读源码是一件很了不起的事情，是只有大佬才会去做的事。但在工作了一段时间后，使用了很多的优秀的框架和库后，在感叹巧妙的设计之余——有时候也会想作者到底是怎么去实现的。于是就开始尝试阅读一些源码，发现<strong>其实源码也不是想象的那么难，至少有很多看得懂。</strong></p> <p>同时，源码有也有很多值得学习和借鉴的东西，不管是应用到日常开发中还是应对面试都是非常有用的，所以还是推荐大家也去尝试阅读的。</p></blockquote> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>这是我的阅读源码的第二篇文章，逐渐培养每周阅读源码并写文章记录的习惯。</p> <p>axios 是我们平时经常用到的网络请求库，可以同时用于 浏览器和node.js 环境中。今天我们来阅读 axios 源码，来了解其中的封装的工具函数。</p> <h2 id="如何阅读-github-上的源码"><a href="#如何阅读-github-上的源码" class="header-anchor">#</a> 如何阅读 github 上的源码</h2> <p>打开 <a href="https://github1s.com/axios/axios" target="_blank" rel="noopener noreferrer">axios<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 即可查看源码</p> <blockquote><p>在每一个<code>github</code>项目中的<code>url</code>里直接加上<code>1s</code>，就能在网页版<code>vscode</code>中查看源码了。（我在上面提供的链接已经添加了 <code>1s</code>）</p></blockquote> <p>如果这个方法不可行的话，还可以使用下面的方法把源码克隆到本地中进行查看。</p> <h3 id="克隆-axios-项目查看源码"><a href="#克隆-axios-项目查看源码" class="header-anchor">#</a> 克隆 axios 项目查看源码</h3> <p>开源项目一般能在根目录下的<code>README.md</code>文件或<code>CONTRIBUTING.md</code>中找到贡献指南。贡献指南中说明了参与贡献代码的一些注意事项，比如：<strong>代码风格、代码提交注释格式、开发、调试</strong>等。</p> <h2 id="axios-中的工具函数"><a href="#axios-中的工具函数" class="header-anchor">#</a> axios 中的工具函数</h2> <blockquote><p>axios 的工具函数都在 <a href="%5Burl%5D(https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Faxios%2Faxios%2Fblob%2Fmaster%2Flib%2Futils.js)">utils.js</a> 这个文件中，我们在平时也可以学习开源库的命名习惯，把工具函数放到 <code>utils.js</code> 文件中。</p></blockquote> <p>axios 源码的<code>utils.js</code>文件中有很多的工具函数，为了方便大家阅读，我将文章分为上、下两部分，本文是上半部分，介绍的是 <code>axios</code> 实现工具函数依赖的<strong>基本函数</strong>，还有工具函数中<strong>判断数据类型的函数</strong>。<a href="https://juejin.cn/post/7147707522076377096/" target="_blank" rel="noopener noreferrer">下半部分<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，介绍的是 <code>axios</code> 工具函数中的非常重要且可以<strong>用于日常开发</strong>中的函数。如：<code>merge</code>、<code>extend</code>、<code>forEach</code>等。</p> <h2 id="基础函数"><a href="#基础函数" class="header-anchor">#</a> 基础函数</h2> <p>先介绍几个基础函数，这几个函数会在后面的工具函数<strong>频繁</strong>使用。</p> <h3 id="typeoftest-使用-typeof-获取当前数据类型"><a href="#typeoftest-使用-typeof-获取当前数据类型" class="header-anchor">#</a> <code>typeOfTest</code> 使用 <code>typeOf</code> 获取当前数据类型</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">typeOfTest</span> <span class="token operator">=</span> <span class="token parameter">type</span> <span class="token operator">=&gt;</span> <span class="token parameter">thing</span> <span class="token operator">=&gt;</span> <span class="token keyword">typeof</span> thing <span class="token operator">===</span> type<span class="token punctuation">;</span>
</code></pre></div><h3 id="kindof-获取当前数据类型"><a href="#kindof-获取当前数据类型" class="header-anchor">#</a> <code>kindOf</code> 获取当前数据类型</h3> <p>这个函数的实现原理是使用<code>Object.prototype.toString()</code>可以获取数据类型的特性。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> toString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>

<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  o<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回 [object Object]</span>
<span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Date]</span>
<span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Math<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Math]</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>toString<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

<span class="token keyword">const</span> kindOf <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">cache</span> <span class="token operator">=&gt;</span> 
        <span class="token parameter">thing</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thing<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [object Object]</span>
            <span class="token keyword">return</span> cache<span class="token punctuation">[</span>str<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>cache<span class="token punctuation">[</span>str<span class="token punctuation">]</span> <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 返回值为 object / array ...</span>
</code></pre></div><blockquote><p>注意：这里使用的是<code>Object.create(null)</code>，而不是 <code>{}</code>。我开始以为作者是出于性能的考虑，或者只是一个编程的习惯。然后我就试着去搜索了一下，于是发现了这篇文章<a href="https://juejin.cn/post/6844903589815517192#heading-3" target="_blank" rel="noopener noreferrer">详解Object.create(null)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <p>我阅读了这篇文章，总结了使用<code>Object.create(null)</code>的原因：</p> <ul><li><code>Object.create(null)</code>创建的对象是一个<strong>纯净</strong>的对象，不包含<code>object</code>原型链上面的属性，可以自定义其中的属性</li> <li>使用<code>for..in</code>循环的时候会遍历对象原型链上的属性，使用<code>Object.create(null)</code>就不必再对属性进行检查了</li></ul> <h3 id="kindoftest-判断当前数据类型是否与期望的类型一致"><a href="#kindoftest-判断当前数据类型是否与期望的类型一致" class="header-anchor">#</a> <code>kindOfTest</code> 判断当前数据类型是否与期望的类型一致</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">kindOfTest</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  type <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">thing</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">kindOf</span><span class="token punctuation">(</span>thing<span class="token punctuation">)</span> <span class="token operator">===</span> type
<span class="token punctuation">}</span>
</code></pre></div><h2 id="判断数据类型的函数"><a href="#判断数据类型的函数" class="header-anchor">#</a> 判断数据类型的函数</h2> <ul><li>函数命名：返回值是 Boolean 类型的函数，命名都<strong>以 <code>is</code> 开头</strong>（我们在平时编码中也可以使用这个命名习惯）</li> <li>主要用到的几个 api：
<ul><li><code>Object.prototype.toString()</code> 来获取每个对象的类型</li> <li><code>typeof</code> 运算符用于检测数据类型</li> <li><code>Object.getPrototypeOf</code>返回指定对象的原型</li> <li><code>instanceof</code> 运算符用于检测构造函数的 <code>prototype</code> 属性是否出现在某个实例对象的原型链上</li></ul></li></ul> <h3 id="判断-js基本数据类型-的函数"><a href="#判断-js基本数据类型-的函数" class="header-anchor">#</a> 判断 <strong>JS基本数据类型</strong> 的函数</h3> <p>使用 <code>typeof</code> 就可以进行判断，但有两个地方需要注意：</p> <ol><li><code>typeof</code> 也可以用来判断 <code>function</code></li> <li><code>typeof null</code>为<code>object</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isString <span class="token operator">=</span> <span class="token function">typeOfTest</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 判断是否为 `string`</span>
<span class="token keyword">const</span> isNumber <span class="token operator">=</span> <span class="token function">typeOfTest</span><span class="token punctuation">(</span><span class="token string">'number'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 判断是否为 `number`</span>
<span class="token keyword">const</span> isUndefined <span class="token operator">=</span> <span class="token function">typeOfTest</span><span class="token punctuation">(</span><span class="token string">'undefined'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 判断是否为 `undefined`</span>
<span class="token keyword">const</span> <span class="token function-variable function">isBoolean</span> <span class="token operator">=</span> <span class="token parameter">thing</span> <span class="token operator">=&gt;</span> thing <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">||</span> thing <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 判断是否为 `boolean`</span>

<span class="token keyword">const</span> isFunction <span class="token operator">=</span> <span class="token function">typeOfTest</span><span class="token punctuation">(</span><span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 判断是否为 `function`</span>
</code></pre></div><h3 id="判断js引用数据类型和其他的数据类型"><a href="#判断js引用数据类型和其他的数据类型" class="header-anchor">#</a> 判断<strong>JS引用数据类型</strong>和<strong>其他的数据类型</strong></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 判断 Date</span>
<span class="token keyword">const</span> isDate <span class="token operator">=</span> <span class="token function">kindOfTest</span><span class="token punctuation">(</span><span class="token string">'Date'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 判断正则表达式  </span>
<span class="token keyword">const</span> isRegExp <span class="token operator">=</span> <span class="token function">kindOfTest</span><span class="token punctuation">(</span><span class="token string">'RegExp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 判断html表单元素</span>
<span class="token keyword">const</span> isHTMLForm <span class="token operator">=</span> <span class="token function">kindOfTest</span><span class="token punctuation">(</span><span class="token string">'HTMLFormElement'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 判断文件</span>
<span class="token keyword">const</span> isFile <span class="token operator">=</span> <span class="token function">kindOfTest</span><span class="token punctuation">(</span><span class="token string">'File'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="isarray-判断是否为数组"><a href="#isarray-判断是否为数组" class="header-anchor">#</a> <code>isArray</code> 判断是否为数组</h3> <p>现在 axios 源码中使用的是 原生的 <code>Array.isArray</code> 方法</p> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6feed36ca02849f9900e5af218b88e64~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 当前 axios 源码使用的方法</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>isArray<span class="token punctuation">}</span> <span class="token operator">=</span> Array<span class="token punctuation">;</span>


<span class="token comment">// 以前 axios 源码使用的方法</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>toString<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">isArray</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="isobject-判断对象"><a href="#isobject-判断对象" class="header-anchor">#</a> <code>isObject</code> 判断对象</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 注意 typeof null === 'object' 的情况</span>
<span class="token keyword">const</span> <span class="token function-variable function">isObject</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">thing</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> thing <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> thing <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="isplainobject-判断-纯对象"><a href="#isplainobject-判断-纯对象" class="header-anchor">#</a> <code>isPlainObject</code> 判断 纯对象</h3> <p>纯对象： 用<code>{}</code>或<code>new Object()</code>创建的对象。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span>getPrototypeOf<span class="token punctuation">}</span> <span class="token operator">=</span> Object<span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">isPlainObject</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kindOf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> prototype <span class="token operator">=</span> <span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> prototype <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> prototype <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// 例子1</span>
<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'jay'</span><span class="token punctuation">}</span>
<span class="token function">isPlainObject</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// 例子2</span>
<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
o<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'jay'</span>
<span class="token function">isPlainObject</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>   <span class="token comment">// true</span>

<span class="token comment">// 例子3</span>
<span class="token keyword">function</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">isPlainObject</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>

<span class="token comment">// 判断目标对象的原型是不是`null` 或 `Object.prototype`</span>
</code></pre></div><blockquote><p>注意：<code>getPrototypeOf</code> 在 ES5 中如果参数不是对象会报错，而在 ES6 中，参数会被转换为一个 对象类型。请看<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/getprototypeof" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/65d06bd47abd41c5bfc7b4fd976c8c37~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p> <h3 id="isurlsearchparams-判断url携带的参数"><a href="#isurlsearchparams-判断url携带的参数" class="header-anchor">#</a> <code>isURLSearchParams</code> 判断url携带的参数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isURLSearchParams <span class="token operator">=</span> <span class="token function">kindOfTest</span><span class="token punctuation">(</span><span class="token string">'URLSearchParams'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="urlsearchparams"><a href="#urlsearchparams" class="header-anchor">#</a> URLSearchParams</h3> <p><code>URLSearchParams</code> 接口定义了一些实用的方法来处理 URL 的查询字符串，详情可看 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FURLSearchParams" title="https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> paramsString <span class="token operator">=</span> <span class="token string">&quot;q=URLUtils.searchParams&amp;topic=api&quot;</span>
<span class="token keyword">var</span> searchParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>paramsString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> p <span class="token keyword">of</span> searchParams<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 输出 </span>
<span class="token punctuation">[</span> <span class="token string">'q'</span><span class="token punctuation">,</span> <span class="token string">'URLUtils.searchParams'</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token string">'topic'</span><span class="token punctuation">,</span> <span class="token string">'api'</span> <span class="token punctuation">]</span>

searchParams<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
searchParams<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;api&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
searchParams<span class="token punctuation">.</span><span class="token function">getAll</span><span class="token punctuation">(</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;api&quot;]</span>
searchParams<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
searchParams<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;webdev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
searchParams<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;q=URLUtils.searchParams&amp;topic=api&amp;topic=webdev&quot;</span>
searchParams<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;More webdev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
searchParams<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;q=URLUtils.searchParams&amp;topic=More+webdev&quot;</span>
searchParams<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;topic&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
searchParams<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;q=URLUtils.searchParams&quot;</span>
</code></pre></div><h3 id="isfilelist判断-filelist"><a href="#isfilelist判断-filelist" class="header-anchor">#</a> <code>isFileList</code>判断 FileList</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isFileList <span class="token operator">=</span> <span class="token function">kindOfTest</span><span class="token punctuation">(</span><span class="token string">'FileList'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这个函数的实现原理还是调用之前定义的工具函数，就不过多赘述了，主要来了解一下<code>FileList</code>。</p> <h3 id="filelist"><a href="#filelist" class="header-anchor">#</a> <code>FileList</code></h3> <p><code>FileList</code>对象是一个类似数组的对象，代表一组选中的文件，每个成员都是一个 File 实例。它主要出现在两个场合。</p> <ul><li>文件控件节点（<code>&lt;input type=&quot;file&quot;&gt;</code>）的<code>files</code>属性，返回一个 FileList 实例。</li> <li>拖拉一组文件时，目标区的<code>DataTransfer.files</code>属性，返回一个 FileList 实例。</li></ul> <div class="language-html extra-class"><pre class="language-html"><code>// HTML 代码如下
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> files <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>files<span class="token punctuation">;</span>
files <span class="token keyword">instanceof</span> <span class="token class-name">FileList</span> <span class="token comment">// true</span>
</code></pre></div><p>FileList 的实例属性主要是<code>length</code>，表示包含多少个文件。通常可以使用<code>FileList[0]</code>的方式来操作第一个文件，<code>FileList[1]</code>的方式来操作第二个文件，以此类推。</p> <p>FileList 的实例方法主要是<code>item()</code>，用来返回指定位置的实例。它接受一个整数作为参数，表示位置的序号（从零开始）。</p> <h3 id="isblob-判断-blob"><a href="#isblob-判断-blob" class="header-anchor">#</a> <code>isBlob</code> 判断 Blob</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isBlob <span class="token operator">=</span> <span class="token function">kindOfTest</span><span class="token punctuation">(</span><span class="token string">'Blob'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Blob</code> 对象表示一个不可变、原始数据的类文件对象。它的数据可以按文本或二进制的格式进行读取。</p> <h3 id="isstream-判断是否是流"><a href="#isstream-判断是否是流" class="header-anchor">#</a> <code>isStream</code> 判断是否是流</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 这里`isObject`、`isFunction`为上文提到的方法</span>
<span class="token keyword">const</span> <span class="token function-variable function">isStream</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">isObject</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isFunction</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>pipe<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>判断是否是对象，并且对象是否拥有<code>pipe</code>方法</p> <blockquote><p><code>stream</code>是Node.js提供的又一个仅在服务区端可用的模块，目的是支持“流”这种数据结构。</p></blockquote> <h3 id="isbuffer-判断-buffer"><a href="#isbuffer-判断-buffer" class="header-anchor">#</a> <code>isBuffer</code> 判断 <code>buffer</code></h3> <p>什么是Buffer?</p> <p>JavaScript 语言自身只有字符串数据类型，没有二进制数据类型。</p> <blockquote><p>在 Node.js 中，<strong>Buffer</strong> 类是随 Node 内核一起发布的核心库。Buffer 库为 Node.js 带来了一种存储原始数据的方法，可以让 Node.js <strong>处理二进制数据</strong>，每当需要在 Node.js 中处理 I/O 操作中移动的数据时，就有可能使用 Buffer 库。我们这里需要判断的 <code>buffer</code> 指的是 <code>Buffer</code> 类生成的实例。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  以前 axios 源码使用的方法</span>
<span class="token keyword">function</span> <span class="token function">isBuffer</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val <span class="token operator">!==</span> <span class="token keyword">null</span> 
          <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isUndefined</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> 
          <span class="token operator">&amp;&amp;</span> val<span class="token punctuation">.</span>constructor <span class="token operator">!==</span> <span class="token keyword">null</span> 
          <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isUndefined</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
          <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> val<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>isBuffer <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token comment">// 只有这里与下面不同</span>
          <span class="token operator">&amp;&amp;</span> val<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span><span class="token function">isBuffer</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 当前 axios 源码使用的方法</span>
<span class="token keyword">function</span> <span class="token function">isBuffer</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> val <span class="token operator">!==</span> <span class="token keyword">null</span> 
          <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isUndefined</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>、
          <span class="token operator">&amp;&amp;</span> val<span class="token punctuation">.</span>constructor <span class="token operator">!==</span> <span class="token keyword">null</span>
          <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isUndefined</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
          <span class="token operator">&amp;&amp;</span> <span class="token function">isFunction</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>isBuffer<span class="token punctuation">)</span>  <span class="token comment">// 只有这里与上面不同</span>
          <span class="token operator">&amp;&amp;</span> val<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span><span class="token function">isBuffer</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>判断 <code>buffer</code> 的思路：</p> <ol><li>判断不是 <code>undefined</code>和<code>null</code></li> <li>判断是否为构造函数生成的实例</li> <li>判断构造函数是否为 <code>Buffer</code> 类</li></ol> <h3 id="isarraybuffer-判断-arraybuffer"><a href="#isarraybuffer-判断-arraybuffer" class="header-anchor">#</a> <code>isArrayBuffer</code> 判断 <code>ArrayBuffer</code></h3> <p><code>ArrayBuffer</code> 对象表示一段<strong>二进制数据</strong>，用来模拟内存里面的数据。通过这个对象，JavaScript 可以<strong>读写二进制数据</strong>。这个对象可以看作内存数据的表达。<br>
浏览器原生提供<code>ArrayBuffer()</code>构造函数，用来生成实例。它接受一个整数作为参数，表示<strong>这段二进制数据占用多少个字节</strong>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isArrayBuffer <span class="token operator">=</span> <span class="token function">kindOfTest</span><span class="token punctuation">(</span><span class="token string">'ArrayBuffer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>判断 <code>ArrayBuffer</code> 的办法要比判断 <code>buffer</code> 简单一些，因为 <code>ArrayBuffer</code> 是浏览器中提供的 api，而 <code>buffer</code> 则是 node.js 中特有的。</p></blockquote> <h3 id="isarraybufferview-判断arraybufferview"><a href="#isarraybufferview-判断arraybufferview" class="header-anchor">#</a> <code>isArrayBufferView</code> 判断<code>ArrayBufferView</code></h3> <p>判断是否是ArrayBuffer上的视图实例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isArrayBufferView</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> ArrayBuffer <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>ArrayBuffer<span class="token punctuation">.</span>isView<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> ArrayBuffer<span class="token punctuation">.</span><span class="token function">isView</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>val<span class="token punctuation">.</span>buffer<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token function">isArrayBuffer</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer/isView" target="_blank" rel="noopener noreferrer"><code>ArrayBuffer.isView(arg)</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
如果参数是 ArrayBuffer 的视图实例则返回 <code>true</code>，例如 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noopener noreferrer">类型数组对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noopener noreferrer"><code>DataView</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>对象；否则返回 <code>false</code>。</li></ul></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// create an ArrayBuffer with a size in bytes</span>
<span class="token keyword">const</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ArrayBuffer<span class="token punctuation">.</span><span class="token function">isView</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: true</span>
</code></pre></div><h3 id="isformdata-判断formdata"><a href="#isformdata-判断formdata" class="header-anchor">#</a> <code>isFormData</code> 判断<code>FormData</code></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 以前 axios 源码使用的方法</span>
<span class="token keyword">function</span> <span class="token function">isFormData</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> FormData <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>val <span class="token keyword">instanceof</span> <span class="token class-name">FormData</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 当前 axios 源码使用的方法</span>
<span class="token keyword">const</span> <span class="token function-variable function">isFormData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">thing</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token string">'[object FormData]'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> thing <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token keyword">typeof</span> FormData <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span> thing <span class="token keyword">instanceof</span> <span class="token class-name">FormData</span><span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thing<span class="token punctuation">)</span> <span class="token operator">===</span> pattern <span class="token operator">||</span>
    <span class="token punctuation">(</span><span class="token function">isFunction</span><span class="token punctuation">(</span>thing<span class="token punctuation">.</span>toString<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> thing<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> pattern<span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>新的<code>isFormData</code>方法比之前的方法代码多了一些，但仔细查看后就会发现，原理相同，依然是：判断<strong>构造函数是否为<code>FormData</code><strong>或者</strong>在原型链上是否有<code>FormData</code></strong></p> <h3 id="istypedarray-判断typedarray"><a href="#istypedarray-判断typedarray" class="header-anchor">#</a> <code>isTypedArray</code> 判断<code>TypedArray</code></h3> <p>这个函数检查<code>Uint8Array</code>是否存在，如果存在，则返回一个函数。</p> <blockquote><p><code>TypedArray</code> 和 <code>Uint8Array</code> 的介绍在下面，如果你想有更深入的了解请看<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> isTypedArray <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">TypedArray</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// eslint-disable-next-line func-names</span>
  <span class="token keyword">return</span> <span class="token parameter">thing</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> TypedArray <span class="token operator">&amp;&amp;</span> thing <span class="token keyword">instanceof</span> <span class="token class-name">TypedArray</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Uint8Array <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">&amp;&amp;</span> <span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>Uint8Array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="typedarray"><a href="#typedarray" class="header-anchor">#</a> <code>TypedArray</code></h3> <p><code>TypedArray</code>是一组构造函数，一共包含九种类型，每一种都是一个构造函数。</p> <p><code>TypedArray</code>的构造函数接受三个参数，第一个ArrayBuffer（也可以是数组、视图）对象，第二个视图开始的字节号（默认0），第三个视图结束的字节号（默认直到本段内存区域结束）。</p> <blockquote><p><code>Uint8Array</code> 就是<code>TypedArray</code>九种类型中的一种，<code>Uint8Array</code>就是将 <code>ArrayBuffer</code> 中的每个字节视为 0 到 255 之间的单个数字（每个字节是 8 位）。这称为 “8 位无符号整数”。</p></blockquote> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>本文主要介绍了<code>axios</code>源码<code>utils.js</code>中的用于判断数据类型的工具函数，实现原理比较简单，在日常开发中也会经常用到，还是非常实用的，十分适合刚读源码的朋友。
而<a href="https://juejin.cn/post/7147707522076377096/" target="_blank" rel="noopener noreferrer">下半部分<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>就开始有了一些难度，尤其是进阶函数的部分，我学习起来有些吃力，有兴趣的朋友可以去看看。</p> <h2 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h2> <p><a href="https://juejin.cn/post/7028102467141402638" target="_blank" rel="noopener noreferrer"># File 对象，FileList 对象，FileReader 对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tech/阅读源码/为什么 Vue2 this 能够直接获取到 data 和 methods中的变量和方法？.html" class="prev">
        为什么 Vue2 this 能够直接获取到 data 和 methods中的变量和方法？
      </a></span> <span class="next"><a href="/tech/阅读源码/阅读axios源码工具函数（下）.html">
        阅读axios源码工具函数（下）
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3aeb1e98.js" defer></script><script src="/assets/js/2.83af3cc0.js" defer></script><script src="/assets/js/123.b0f831ca.js" defer></script>
  </body>
</html>
